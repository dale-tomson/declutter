# v1.1.1 - Windows Defender Mitigation

**Release Date:** 2025-12-07

## Overview

This patch release addresses Windows Defender false positive warnings by adding comprehensive user documentation and embedding Windows resource metadata in the executable.

## Fixed

### Windows Defender False Positives
- **Added comprehensive troubleshooting guide** (`docs/WINDOWS_DEFENDER.md`)
  - Step-by-step instructions for adding Windows Defender exclusions
  - How to restore quarantined files
  - Submission process for Microsoft Security Intelligence
  - Verification methods for confirming application safety
- **Added Windows resource metadata** to executables
  - Version information (file and product versions)
  - Company name and product description
  - Copyright information
  - Application manifest with execution level and DPI awareness
  - Embedded application icon (100x80 PNG)
- **Updated README** with prominent Windows Defender warning notice
- **Improved build process**
  - Added `-H windowsgui` flag to suppress console window (GUI-only mode)
  - Automated Windows resource generation using `go-winres`
  - Version numbers automatically updated during build

## Technical Changes

### New Files
- `docs/WINDOWS_DEFENDER.md` - User troubleshooting guide
- `internal/winres/winres.json` - Windows resource configuration
- `internal/winres/app.manifest` - Windows application manifest
- `internal/winres/icon.png` - Application icon (100x80 PNG)
- `internal/winres/README.md` - Documentation for resource files

### Modified Files
- `README.md` - Added Windows Defender warning notice
- `scripts/build.sh` - Added Windows resource generation step
- `.github/workflows/release.yml` - Added resource generation to CI/CD
- `.gitignore` - Added build artifacts (*.syso, temp files)

## Impact

✅ **Users** now have clear guidance when encountering Windows Defender warnings  
✅ **Windows executables** contain professional metadata increasing legitimacy  
✅ **Build process** automatically embeds version information and icon  
✅ **CI/CD** generates proper Windows resources for all releases

## Notes

While Windows Defender may still flag the application initially (due to lack of code signing certificate), the added metadata and user documentation significantly improve the user experience and provide clear resolution paths.

Future enhancements may include code signing certificates ($100-400/year) for the most effective long-term solution.

## Download

Get the latest release from:
- [GitHub Releases](https://github.com/dale-tomson/declutter/releases/tag/v1.1.1)
- [Official Website](https://dale-tomson.github.io/declutter)
